<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì˜ì–´ ë‹¨ì–´ ì¹´ë“œ</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            overflow: hidden;
            -webkit-user-select: none;
            user-select: none;
        }

        .start-screen {
            text-align: center;
            padding: 20px;
        }

        .start-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: #000;
            margin-bottom: 8px;
        }

        .start-desc {
            font-size: 1rem;
            color: #999;
            margin-bottom: 48px;
            line-height: 1.5;
        }

        .start-btn {
            background: #000;
            color: #fff;
            border: none;
            padding: 16px 48px;
            border-radius: 10px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .card-container {
            text-align: center;
            width: 100%;
            padding: 20px;
            display: none;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .card-container.fade-out-left { opacity: 0; transform: translateX(-60px); }
        .card-container.fade-out-right { opacity: 0; transform: translateX(60px); }
        .card-container.fade-in { opacity: 0; transform: translateX(40px); }

        .progress {
            font-size: 0.75rem;
            color: #ccc;
            margin-bottom: 40px;
            letter-spacing: 1px;
        }

        .word-en {
            font-size: 3.8rem;
            font-weight: 800;
            color: #000;
            margin-bottom: 5px;
            letter-spacing: -2px;
            word-break: keep-all;
            line-height: 1.1;
        }

        .word-ko {
            font-size: 1.4rem;
            font-weight: 400;
            color: #777;
            margin-bottom: 15px;
        }

        .speak-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            background: #f5f5f5;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: #555;
            cursor: pointer;
            margin-bottom: 80px;
            -webkit-tap-highlight-color: transparent;
        }

        .button-group {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            padding: 0 20px;
        }

        .nav-btn {
            flex: 1;
            padding: 16px 0;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            border: none;
            -webkit-tap-highlight-color: transparent;
        }

        .nav-btn.prev { background: #f5f5f5; color: #888; }
        .nav-btn.next { background: #000; color: #fff; }
        .nav-btn.disabled { background: #f5f5f5; color: #ddd; pointer-events: none; }

        .complete-container { text-align: center; width: 100%; padding: 20px; display: none; }
        .complete-container.show { display: block; }
        .complete-emoji { font-size: 48px; margin-bottom: 16px; }
        .complete-title { font-size: 1.6rem; font-weight: 700; margin-bottom: 6px; }
        .complete-btns { display: flex; flex-direction: column; align-items: center; gap: 12px; margin-top: 30px; }
        .complete-btn { background: none; border: none; padding: 12px; font-size: 0.95rem; cursor: pointer; }
        .complete-btn.primary { color: #000; font-weight: 600; }
        .complete-btn.secondary { color: #bbb; }
    </style>
</head>
<body>

    <div class="start-screen" id="startScreen">
        <div class="start-title">ì˜¤ëŠ˜ì˜ ì˜ì–´ ë‹¨ì–´</div>
        <div class="start-desc">ì›ì–´ë¯¼ ë°œìŒê³¼ ì–µì–‘ìœ¼ë¡œ ë°°ìš°ëŠ”<br>ìƒí™œ í•„ìˆ˜ ì˜ë‹¨ì–´</div>
        <button class="start-btn" onclick="startApp()">í•™ìŠµ ì‹œì‘</button>
    </div>

    <div class="card-container" id="cardContainer">
        <div class="progress" id="progress"></div>
        <div class="word-en" id="wordEn"></div>
        <div class="word-ko" id="wordKo"></div>

        <button class="speak-btn" onclick="playSound()">
            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
            ë°œìŒ ë“£ê¸°
        </button>

        <div class="button-group">
            <button class="nav-btn prev" id="prevBtn" onclick="prevCard()">ì´ì „</button>
            <button class="nav-btn next" id="nextBtn" onclick="nextCard()">ë‹¤ìŒ ë‹¨ì–´ ë³´ê¸°</button>
        </div>
    </div>

    <div class="complete-container" id="completeContainer">
        <div class="complete-emoji">ğŸ‰</div>
        <div class="complete-title">í•™ìŠµ ì™„ë£Œ!</div>
        <div id="completeDesc" style="color:#999; margin-bottom: 20px;"></div>
        <div class="complete-btns">
            <button class="complete-btn primary" id="completeNextBtn" onclick="goNextSet()"></button>
            <button class="complete-btn secondary" onclick="replaySet()">ë‹¤ì‹œ ë³´ê¸°</button>
        </div>
    </div>

    <script>
        const allWords = [
            { en: "STARBUCKS", ko: "ìŠ¤íƒ€ë²…ìŠ¤", tts: "ìŠ¤íƒ€ë²…ìŠ¤", lang: "ko" },
            { en: "COFFEE", ko:
